<html>

<head>
	<title>4.2 寸电子墨水屏蓝牙控制器</title>
	<style type="text/css">
		.main { width: 800px; margin: 0 auto;}
		h3 { padding-bottom: .3em; border-bottom: 1px solid #CCC; }
		fieldset { border: 2px dotted #AAA; padding: 10px; margin-bottom: 10px; }
		fieldset legend { font-weight: bold; }
		code { padding: .2em .4em; margin: 0; font-size: 85%; background: #CCC; border-radius: 3px; }

		#toolbar { margin-bottom: 10px; border-bottom: 1px dotted #AAA;}
		#status { margin: 10px 0; }
		#filebox { margin-bottom: 10px; }
		#cmdIMAGE { width: 350px; height: 300px; float: right}
		#log { width: 100%; min-height: 200px; margin-top: 10px; background: #DDD; }
		#canvas-box { margin-top: 10px; }
	</style>
</head>

<body>
	<div class="main">
		<h3>4.2 寸电子墨水屏蓝牙控制器（nRF51）</h3>
		<fieldset>
			<legend>连接</legend>
			<div style="float: right;">
				驱动:
				<select id="epddriver">
					<option value="01" selected="selected">EPD_4in2</option>
					<option value="02">EPD_4in2_V2</option>
					<option value="03">EPD_4in2b_V2</option>
				</select>
				引脚:
				<input id="epdpins" type="text" value="0508090A0B0C0D">
				<button id="setDriverbutton" type="button" onclick="setDriver();">确认</button>
			</div>
			<button id="connectbutton" type="button" onclick="preConnect();">连接</button>
			<button type="button" onclick="reConnect();">重连</button>
		</fieldset>

		<fieldset>
			<legend>传输</legend>
			<div id="toolbar">
				<div style="float: right">
					<button id="clearscreenbutton" type="button" onclick="clearscreen();">清除屏幕</button>
					<input type="text" id="cmdTXT" value="">
					<button id="sendcmdbutton" type="button" onclick="sendcmd(document.getElementById(&quot;cmdTXT&quot;).value);">发送命令</button>
				</div>
				<div style="margin-bottom: 10px;">
					<button id="clearscreenbutton" type="button" onclick="clear_canvas();">清除画布</button>
					<button id="sendimgbutton" type="button" onclick="sendimg(document.getElementById(&quot;cmdIMAGE&quot;).value);">发送图片</button>
					<span id="status"></span>
				</div>
			</div>
			<div id="sendimg">
				<div id="filebox">
					<input type="file" id="image_file" onchange="update_image()" accept=".png,.jpg,.bmp,.webp,.jpeg">
					抖动算法：
					<select id="dithering" title="抖动算法" onchange="update_image()">
						<optgroup label="黑白">
							<option value="none">二值化</option>
							<option value="bayer">bayer</option>
							<option value="floydsteinberg">floydsteinberg</option>
							<option value="Atkinson">Atkinson</option>
						</optgroup>
						<optgroup label="黑白红多色">
							<option value="bwr_floydsteinberg">黑白红floydsteinberg</option>
							<option value="bwr_Atkinson">黑白红Atkinson</option>
						</optgroup>
					</select>
					阈值:
					<input type="number" max="255" min="0" value="125" id="threshold" onchange="update_image()">
				</div>
				<textarea id="cmdIMAGE">fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe03fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0003fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff80003ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe3d003ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcfeb03ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03e383fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe43f3c3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8c3f3e3fcfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff3e3f9e3f8ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe5fff9f3e0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc8fff9f3807fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff927ffbf3007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff30fff3f4007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe5bfff3f0707ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0bfff3e1f87ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc09fff385fc7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff94cffe73dfe7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff27e7fe6fdfe3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03fbfe199fe3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe43fdfe39dff3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe45fffc67dff3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcfffffdeffff1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcfffff93ffff9fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffccffff33ffff9fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0fffe1ffdff9fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc9fffc8fffff8fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc9fff9dffdff8fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcffff0fff5ff8fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe7fff67ff5ff8fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe7ffe33fb5ff87fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff3ffef9f0bff87fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff3ffce4fa1ff87fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9ffd727f3ff97fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcfbd3c3fbff97fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe7cd3e1fbff97fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00f3e1ff1ffffc7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0000f93f8dfffc3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcffc0393fe5fffc7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa3ffe0cfff3fffc7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff79fffc07ff3f7fe3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffefe7ff8f7ff9f3fe3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff3d3f7dfbfe3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcbfffc1ebfbcf9fe3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0fffd871fbefcfe7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9bfffaff8f9e7efe7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9ffff47fe79f7f7a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbfffe47ff39f3fba7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa3ffcefff99fbf987fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff23ffcffffc8fdfc07f83ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff203fdffffe0fcfc07c00ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff87ff9fffff87e7e0f9fe3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff3fffbfffffc3f390f2019fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff37ffbffffff0f900e0fc1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff23ff3ffffffc7c00c7ff3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff23ff3fffffff02009fff9fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbfff3fffefffc0001fff9fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbffebff803ffc0007fffcfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff91fdbd81fc7ff000ffffcfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff91e5bcc3ff83f800ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcbf1bff8fff80001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcff3bfff9ffff001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe7ebbffffffff801fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff3eb3ffffcffe003fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbe53fffff3fe003fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9f13fffff8f8047fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcf83fffffe180c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe7c3ffffffc01cfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff3e7fffffffc7cffffffffffffffffffffffffffffffffffff00fffffffffffffffffffffffffffffffffffffffffffffffff8e3fffffff9fdfffffffffffffffffffffffffffffffffff8000ffffffffffffffffffffffffffffffffffffffffffffffffe73fffeffe3fdfffffffffffffffffffffffffffffffffff1ff83ffffffffffffffffffffffffffffffffffffffffffffffff33fdfef88fffffffffffffffffffffffffffffffffffffe7fff0ffffffffffffffffffffffffffffffffffffffffffffffff93eb7ef83fffffffffffffffffffffffffffffffffffffdfffd87fffffffffffffffffffffffffffffffffffffffffffffffc3e8fff8ffffffffffffffffffffffffffffffffffffff9ff81b1fffffffffffffffffffffffffffffffffffffffffffffffe1f1ffc3ffffffffffffffffffffffffffffffffff7ff3bff80bcffffffffffffffffffffffffffffffffffffffffffffffff9f3ff0ffffffffffffffffffffffffffffffffffe1f813fffe3e7fffffffffffffffffffffffffffffffffffffffffffffffcf7f87ffffffffffffffffffffffffffffffffffecf1c3ffff3e3fffffffffffffffffffffffffffffffffffffffffffffffe77c1fffffffffffffffffffffffffffffffffffee09c3ffffbcbffffffffffffffffffffffffffffffffffffffffffffffff201ffffffffffffffffffffffffffffffffffffcf09c1ffff3d9ffffffffffffffffffffffffffffffffffffffffffffffffe0ffffffffffffffffffffffffffffffffffff7efed99ffff79cff87fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe3e3e59ccffe41cff23ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f1f19ccffe0c6fef9ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1f19e4ffc7e07ef9ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1f93e4ffcfff7ff9ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2f93f4ff9fff7df9fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe6fc7f03f3fff3df9ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe07fc7f27e7fff3df9fdffffffffffffffffffffffffffffffffffffffffffffffefffffffffffffffffffffffffffffffff801fcff0fcffff39f8f8fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe078fcff1f9ffff33fc78fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff863e7e7f1f3ffff27fe1fffffffffffffffffffffffffffffffffffffffffffffff7ffffffffffffffffffffffffffffffff1f1f3e7f3f7ffff0ffffffffffffffffffffffffffffffffffffffffffffffffffdffffffffffffffffffffffffffffffffe7f9f9e3e3e7ffff3ff3fffdffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcffcfce1e7c7fffe7ff3fffdfffffffffffffffffffffffffffffffffffffffffff7ffffffffffffffffffffffffffffffffdffcfe71cfcffff87ff7f3fdffffffffffffffffffffffffffffffffffffffffffefffffffffffffffffffffffffffffffff9ffeff709fcffc00fffff7ffffffffffff87fffffffffffffffc07ffffffffffffffffffffffffffffffffffffffffffffff9ffe7f323f8fe005fffffffffffffffffe10ffffffffffffc00003ffffffffffffbfffffffffffffffffffffffffffffffff3ffe7f387f8f8019fffffffffffffffff9fe3fffffffffc0000019ffffffffffff7fffffffffffffffffffffffffffffffff3fff3fbc7f8f03f3fffffff3ffffffffe7ff8ffffffffc00e0000c7fffffffffffffffffffffffffffffffffffffffffffff3fff3f9c7f8e03c7fffffff3ffffffff1fffe7fffffff13fffe0047fffffffffffffffffffffffffffffffffffffffffffff3fff9f8d3f8c071ffffffff7fffffffc7ffff3ffffffc67ffff8427fffffffffffffffffffffffffffffffffffffffffffff7fff8fc19f841c7ffe00fffffffffff3ff00fdffffff9dfffffe22ffffffffffffffffffffffffffffffffffffffffffffff7ff7cfc19f8418fffc000003ffffffcff80c1cffffff3bfffffe10fffffffffffffffffffffffffffffffffffffffffffffe7fe3e3c08f0013fff0ff000047fffc7fe1ffc67ffffc77ffffff18fffffffffffffffffffffffffffffffffffffffffffffe3fe3f000ce0027ffe1ffe3f803ff83ffc7fff13ffff9e7ffffff88fffffffffffffffffffffffffffffffffffffffffffffe3ffffc004c0027ff07fff00000001fff9ffffc1fffe38fffffff88fffffffffffffffffffffffffffffffffffffffffffffe1fffff01000067fc0ffff807fc01f9fe7fffff0fff073ffffff980fffffffffffffffffffffffffffffffffffffffffffffe4fffffc1807000003fdffcfffffff8fcffffffc0403c7ffffffdc0fffffffffffffffffffffffffffffffffffffffffffffe27ffffc1c0080000ff9ffe7ffffffdf9fffffff80081ffffffffe0fffffffffffffffffffffffffffffffffffffffffffffe33ffffc0e0003800ffbffe7ffffffff3ffffffffc03fffffffffe0fffffffffffffffffffffffffffffffffffffffffffffe1dffffe0700418007fffff7fffffffe7fffffffffffffffffffff0fffffffffffffffffffffffffffffffffffffffffffffe0e7fffe0000408183fffff7fffffffcffffffffffffffffffffffc7ffffffffffffffffffffffffffffffffffffffffffffe471ffff00004088e3fffff3fffffff9ffffffffffffffffffffffe078fffffffffffffffffffffffffffffffffffffffffff61c7fffc000c00863fffff3fffffffbfffffffffffffffffffffff01ffffffffffffffffffffffffffffffffffffffffffff30f1ffff821800873fffffbfffffff3fffffffffffffffffffffff8ffffdffffffffffffffffffffffffffffffffffffffff381cc1fff1f001c73fffff9ffffffe7fffffffffffffffffffffffe3fff3ffffffffffffffffffffffffffffffffffffffff3e00047f000103c33fffff8ffffffefffffffffffffffffffffffff87fdfffffffffffffffffffffffffffffffffffffffffbf878300000021c39fffff8ffffffdfffffffffffffffffffffffffe03ffffffffffffffffffffffffffffffffffffffffff9ffff1e600c261c39fffff9ffffff9ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdffff078008261e19fffff9ffffff3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcfe000010661e1ffffff9fffffe7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff3fcfe400010040f0ffffff1fffffcfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff79fffe04018041d07fffff1fffff1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc7ff800138040883fffff4ffff83fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0fe023e7c2008c0fffff4ffff8ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff80064f8fe300fe03fffe47ffe1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc7c9c3ff300ff80fffe13fc07fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9b1fff1807fc03ffc00003ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff107fff9c07ff00ffc0003fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff31ffff9e03ffe01f0007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe33ffffcf03fff00003fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe73ffffc781fffc001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc63ffffc7e1ffff003ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc63ffffc3f8ffff807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffce3ffffc9fc7fffc0fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcc9ffffc9fe7fffe1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc8cffffd9fe0fffe3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0e7fc79dff07ffe3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc1f0f073dff07ffc7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc1fc0307dff0fff8ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc1ffffdfdff23fe3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc1ffffffdff30f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc1ffffffdff3801fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc1ffffff9ff3e0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1ffffff9ff3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1ffffff9ff3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1ffffff9ff3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1fe7fff9ff3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0ff7fff8fe7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03fffff8fe7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90f800f8fcffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8c0000187cffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcf83fe0179ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcfffffc123ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe7ffffe007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe7fffff81ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff87ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe3fffffffff1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff3ffffffffc0fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbffffffff807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9ffffffff1c3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9ffffffff3e3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdffffffff3e3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdfffffffe473ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdfffffffe033ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdfffffffc013ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcfffffff8703ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffff1f83ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe7fffffe3fc3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7fffffc7fc7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbfffff9ffe7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9ffffe3ffe3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc7fffcfffe3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1fff1ffff3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc7fc7ffff3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001fffff3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffff9fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff87fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0c1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003ffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007fffffffff8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007ffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007ffffffffffe00000000000000000000000000000000000000000000000000000000000000000000000000000000000000007fffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000007fffffffffffc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000007fffffffffffe00000f0001e00078007ffe007c000007cfffffff807ffffe1e00001e003fff000fffffe01fffffff00000007ffffffffffff80000f0001e0007801ffff803e00000f8fffffff81fffffe1e00001e00ffffc00ffffff81fffffff00000007ffffffffffffc0000f0001e0007807ffffe03e00000f8fffffff83fffffe1e00001e03fffff00ffffffc1fffffff00000007fffffffff9ffe0000f0001e000780ffffff01f00001f0fffffff87fffffe1e00001e07fffff80ffffffe1fffffff00000007fffffffff1fff0000f0001e000781ffffff81f00001f0fffffff87fffffe1e00001e0ffffffc0fffffff1fffffff00000007ffffffffe1fff8000f0001e000781fe007f80f80003e0f80000007f000001e00001e0ff003fc0f0001ff1f00000000000007ffffffffc1fffc000f0001e000783f8001fc0780003e0f000000078000001e00001e1fc0007e0f00001f1e00000000000007ffffffff81fffc000f0001e000783f00007c07c0007c0f000000078000001e00001e1f80003e0f00000f1e00000000000007ffffffff01fffe000f0001e000783e00007c03c0007c0f000000078000001e00001e1f00001e0f00000f1e00000000000007fffffffe01ffff000f0001e000783c00003c03e000f80f80000007c000001f00001e1e00001e0f00000f1f00000000000007fffffffc01ffff000f0001e000783c00003c01e000f80ffffff007fffff01ffffffe1e00001e0f00000f1fffffe000000007fffffff801ffff800f0001e000783c00003c01f001f00ffffff007fffffc1ffffffe1e00001e0f00000f1fffffe000000007fffffff801ffff800f0001e000783c00003c00f801e00ffffff007fffffe1ffffffe1e00001e0f00000f1fffffe000000007fffffff801ffffc00f0001e000783c00003c00f803e00ffffff001fffffe1ffffffe1e00001e0f00001f1fffffe000000007c01f01fc01e0ffc00f0001e000783c00003c007c03c00ffffff0007fffff1ffffffe1e00001e0fffffff1fffffe000000007c01f01f801c07fc00f0001e000783ffffffc007c07c00f0000000000003f1e00001e1ffffffe0fffffff1f00000000000007c01f01f801c07fe00f0001e000783ffffffc003e07800f0000000000001f1e00001e1ffffffe0ffffffe1e00000000000007c00e00f007c03fe00f0001e000783ffffffc003e0f800f0000000000000f1e00001e1ffffffe0ffffffc1e00000000000007c00e00f007803fe00f0001e000783ffffffc001f0f000f0000000000000f1e00001e1ffffffe0ffffff81e00000000000007c00c00f00f801ff00f0001e000783ffffffc001f1f000f0000000000000f1e00001e1ffffffe0ffff7801e00000000000007e00400600f001ff00f0001e000783c00003c000f9e000f0000000000000f1e00001e1e00001e0f0ff0001e00000000000007e00400601f000ff00f0001e000783c00003c000fbe000f0000000000000f1e00001e1e00001e0f07f8001e00000000000007e00400401e000ff00f0001e000783c00003c0007fc000f0000000000000f1e00001e1e00001e0f01fe001e00000000000007f00000000e0007f00f8001e000f83c00003c0007fc000f0000000000001f1e00001e1e00001e0f00ff001e00000000000007f00000000c0007f00ff003e007f83c00003c0003f8000f800000000000ff1e00001e1e00001e0f003f801f00000000000007f0000000040003f00ffffffffff83c00003c0003f8000fffffff87fffffe1e00001e1e00001e0f001fe01fffffff00000007f8000000040003f00ffffffffff83c00003c0001f0000fffffff87fffffe1e00001e1e00001e0f0007f01fffffff00000007f8000000000001f007fffffffff03c00003c0001f0000fffffff87fffffc1e00001e1e00001e0f0003fc1fffffff00000003f8000000000401f001ffffffffe03c00003c0000e0000fffffff87fffff81e00001e1e00001e0f0001fe1fffffff00000003fc002000000600f0003fffffff003c00003c0000c0000fffffff07ffffc01e00001e1e00001e0f00007f9fffffff00000003fc002000000e00f0000000000000000000000000000000000000000000000000000000000000000000000000000000000003fc003000000f00f0000000000000000000000000000000000000000000000000000000000000000000000000000000000003fe007001000f00f0000000000000000000000000000000000000000000000000000000000000000000000000000000000003fe007803001e00f0000000000000000000000000000000000000000000000000000000000000000000000000000000000001fe007803801e01f0000000000000000000000000000000000000000000000000000000000000000000000000000000000001ff00f803803e01f0000000000000000000000000000000000000000000000000000000000000000000000000000000000001ff00fc07803c03f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000ff00fc07c07c03f0000400000000000000000000000000000000000000000000200000000000100000000000000000000000ff81fc0fc07807f00004000000000000000000000000000000000000000000002000000000001000000000000000000000007f81fe0fffe007f00004000000000000000000000000000000000000000000002000000000001000000000000000000000007fffffffffe00ff00004000000000000000000000000000000000000000000002000000000001000000000000000000000003fffffffffe00ff00f047801e21303e0000f88000040f807007c04783801e00023c00f10981f10000081f10181e0000000003fffffffffe00ff019858c061a140c300018488080418c0cc186048cc60618002c6030d0a07191010083191e0618000000001fffffffffe00ff01006060c0618180800203880c082020803010705020c040030306030c0c071018104071c080c000000000fffffffffe00ff0100602180618100400401841c084010802008603020802003010c03080803083810803181804000000000fffffffffe03ff0100402100210300400c018412184010804008602031002002010801081803082c218031810020000000007ffffffffe07ff00c04021002103ffe00800821210fff860400c402031ffe0020108010810010c6421001181ffe0000000003ffffffffe0fff0060402100210300000800822310c0003040044020310000020108010810010444610011810000000000001ffffffffe1fff0018402100210200000800832120800008400c4020310000020108010810010442410011810000000000000ffffffffe3fff0008402100210300000c01814120400004400840203100000201080108180302824180318100000000000007ffffffffffff000840218061010040040181c0c04010042008402030802002010c0308080303818080318180400000000001ffffffffffff00084020c061018080020380c0c02030043010402030c04002010603080c0701018040718080c00000000000ffffffffffff0118402061a100c300018c80804038e188186040203061800201030d080719010100719180618000000000003fffffffffff00e040201e21003e0000f88000000f807007c04020001f00020100f10801f10000001f10003e0000000000000fffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001ffffffffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003fffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</textarea>
				<canvas id="canvas" width="400" height="300" style="border: black solid 1px;"></canvas>
			</div>
		</fieldset>

		<fieldset>
			<legend>日志</legend>
			<button type="button" onclick="document.getElementById('log').innerHTML = '';">清空日志</button>
			<div id="log"></div>
		</fieldset>
		<fieldset>
			<legend>提示</legend>
			<ul>
				<li><b>驱动选择：</b>黑白屏可尝试 EPD_4in2 / EPD_4in2_V2, 三色屏选择 EPD_4in2b_V2 (选错驱动可能会导致任何未知的异常，重启即可恢复）</li>
				<li><b>引脚配置：</b>格式为十六进制，顺序：MOSI/SCLK/CS/DC/ST/BUSY/BS，必须按此顺序包含完整的 7 个引脚配置（没有用到的引脚可配置为 <code>FF</code>）</li>
				<li>
					<b>指令列表（指令和参数全部要使用十六进制）：</b>
					<ul>
						<li><code>00</code>+<code>引脚配置</code>: 设置引脚映射（见上面引脚配置）</li>
						<li><code>01</code>+<code>驱动 ID</code>: 驱动初始化（支持的驱动 ID: <code>01</code>/<code>02</code>/<code>03</code>）</li>
						<li><code>02</code>: 清空屏幕（把屏幕刷为白色）</li>
						<li><code>03</code>+<code>命令</code>: 发送命令到屏幕（请参考屏幕主控手册）</li>
						<li><code>04</code>+<code>数据</code>: 写入数据到屏幕内存（同上）</li>
						<li><code>05</code>: 刷新屏幕（显示已写入屏幕内存的数据）</li>
						<li><code>06</code>: 让屏幕进入睡眠状态</li>
					</ul>
				</li>
			</ul>
			<p style="color: #666;">
				<strong>致谢：</strong>屏幕驱动代码来自微雪 <a href="https://www.waveshare.net/wiki/E-Paper_Shield" target="_blank">E-Paper Shield</a>，本网页代码最初基于 <a href="https://github.com/atc1441/ATC_TLSR_Paper" target="_blank">atc1441/ATC_TLSR_Paper</a> 项目的网页控制端代码修改而来。
			</p>
		</fieldset>
	</div>
	<script type="text/javascript" src="js/dithering.js"></script>
	<script type="text/javascript" src="js/main.js"></script>
</body>

</html>